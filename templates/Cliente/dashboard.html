{% extends "common/base.html" %}

{% block navbar %}
  {% include "common/partials/navbar_cliente.html" %}
{% endblock %}

{% block content %}

<style>
  :root {
    --verde: #57a773;
    --verde-oscuro: #157145;
    --celeste: #9bd1e5;
    --celeste-claro: #d1faff;
    --gris: #6a8eae;
    --blanco: #fff;
  }


  * { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', sans-serif; }

  body { background: var(--celeste-claro); overflow-x: hidden; }

.hero {
  height: 100vh;
  background: url("{{ url_for('static', filename='img/imagendashboard.jpg') }}") no-repeat center center;
  background-size: cover;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  position: relative;
  color: white;
}

  .hero::after {
    content:'';
    position:absolute;
    top:0; left:0; width:100%; height:100%;
    background: rgba(0,0,0,0.4);
  }

  .hero-content { position: relative; z-index:1; max-width:900px; }

  .hero h1 { font-size:4rem; margin-bottom:1rem; text-shadow:2px 2px 5px rgba(0,0,0,0.5); }
  .hero p { font-size:1.5rem; margin-bottom:2rem; text-shadow:1px 1px 3px rgba(0,0,0,0.5); }

  .hero-buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
  }

  .btn-section {
    padding:1rem 2rem;
    border:none;
    border-radius:50px;
    background: var(--verde);
    color: white;
    font-size:1.2rem;
    cursor:pointer;
    transition: 0.3s;
  }

  .btn-section:hover { background: var(--verde-oscuro); transform: scale(1.05); }

  
  .secciones {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    padding: 4rem 2rem;
    gap: 2rem;
  }

  .tarjeta {
    flex: 1 1 300px;
    height: 200px;
    background: white;
    border-radius: 25px;
    display:flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align:center;
    font-weight:bold;
    color: var(--verde-oscuro);
    font-size:1.5rem;
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    cursor:pointer;
    transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
  }

  .tarjeta:hover {
    transform: translateY(-10px) scale(1.05);
    box-shadow: 0 20px 30px rgba(0,0,0,0.3);
    background: var(--verde);
    color: white;
  }

  /* Galería interactiva */
  .galeria {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px,1fr));
    gap:2rem;
    padding:4rem 2rem;
  }

  .mueble {
    position: relative;
    border-radius:20px;
    overflow:hidden;
    cursor:pointer;
    transition: transform 0.3s;
  }

  .mueble img {
    width:100%;
    height:250px;
    object-fit:cover;
    transition: transform 0.3s;
  }

  .mueble:hover img { transform: scale(1.1); }

  .mueble .info {
    position:absolute;
    bottom:0;
    left:0;
    width:100%;
    background: rgba(0,0,0,0.6);
    color:white;
    padding:1rem;
    text-align:center;
    opacity:0;
    transition: opacity 0.3s;
  }

  .mueble:hover .info { opacity:1; }

  footer {
    background: var(--verde);
    color:white;
    text-align:center;
    padding:2rem 1rem;
  }

  /* Icono flotante de Chatbot */
  .chatbot {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background: var(--verde);
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    transition: transform 0.3s, background 0.3s;
    z-index: 1000;
  }

  .chatbot:hover { transform: scale(1.1); background: var(--verde-oscuro); }

  .chatbot img {
    width: 30px;
    height: 30px;
  }

  @media(max-width:768px){
    .hero h1 { font-size:2.5rem; }
    .hero p { font-size:1.2rem; }
    .tarjeta { font-size:1.2rem; height:180px; }
    .chatbot { width:50px; height:50px; }
    .chatbot img { width:25px; height:25px; }
  }
</style>


<link rel="stylesheet" href="{{ url_for('static', filename='css/flash.css') }}">


{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }} flash-small d-flex align-items-center mt-3" role="alert">
        {% if category == 'success' %}
          <i class="bi bi-check-circle-fill me-2"></i>
        {% elif category == 'danger' %}
          <i class="bi bi-x-circle-fill me-2"></i>
        {% elif category == 'warning' %}
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
        {% elif category == 'info' %}
          <i class="bi bi-info-circle-fill me-2"></i>
        {% endif %}
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}


<section class="hero">
  <div class="hero-content">
    <h1>Bienvenido a Casa en el arbol</h1>
    <p>Explora y transforma tu hogar de forma interactiva</p>
    <div class="hero-buttons">
      <button class="btn-section" onclick="document.getElementById('categorias').scrollIntoView({behavior:'smooth'})">CATEGORÍAS</button>
      <button class="btn-section" onclick="window.location.href='{{ url_for('catalogo') }}'">CATÁLOGO</button>

      <button class="btn-section" onclick="document.getElementById('ofertas').scrollIntoView({behavior:'smooth'})">OFERTAS</button>
      <button class="btn-section" onclick="document.getElementById('garantias').scrollIntoView({behavior:'smooth'})">GARANTÍAS</button>
      <button class="btn-section" onclick="window.location.href='{{ url_for('cliente.agendar_instalacion') }}'">INSTALACIONES</button>

    </div>
  </div>
</section>



<!-- Carrusel de novedades -->
<div class="container py-5">
  <h1 class="mb-4"><b>NOVEDADES</b></h1>
  <div id="multiCardCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <div class="row">
          <div class="col-md-6 col-lg-4">
            <div class="card">
              <img src="{{ url_for('static', filename='img/salacarrusel.png') }}" class="card-img-top" alt="Sala moderna" />
            </div>
          </div>
          <div class="col-md-6 col-lg-4 d-none d-md-block">
            <div class="card">
              <img src="{{ url_for('static', filename='img/armariocarrusel.png') }}" class="card-img-top" alt="Armario moderno" />
            </div>
          </div>
          <div class="col-lg-4 d-none d-lg-block">
            <div class="card">
              <img src="{{ url_for('static', filename='img/bañocarrusel.png') }}" class="card-img-top" alt="Mueble para baño" />
            </div>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <div class="row">
          <div class="col-md-6 col-lg-4">
            <div class="card">
              <img src="{{ url_for('static', filename='img/cocinacarrusel.png') }}" class="card-img-top" alt="Cocina moderna" />
            </div>
          </div>
          <div class="col-md-6 col-lg-4 d-none d-md-block">
            <div class="card">
              <img src="{{ url_for('static', filename='img/espejocarrusel.png') }}" class="card-img-top" alt="Espejo decorativo" />
            </div>
          </div>
          <div class="col-lg-4 d-none d-lg-block">
            <div class="card">
              <img src="{{ url_for('static', filename='img/pinturacarrusel.png') }}" class="card-img-top" alt="Pintura decorativa" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#multiCardCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#multiCardCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>
</div>


<section id="bienvenida" class="py-5" style="background: #f0fdf4;">
  <div class="container">
    <div class="row align-items-center g-4">

 
      <div class="col-md-5 text-center text-md-start">
        <div class="shadow rounded overflow-hidden">
          <img src="{{ url_for('static', filename='img/espejo.png') }}" 
               class="img-fluid" alt="Casa en el Árbol" style="transition: transform 0.3s ease;">
        </div>
      </div>

     
      <div class="col-md-7">
        <h2 class="h4 fw-bold text-success mb-2">Bienvenido a Casa en el Árbol</h2>
        <p class="text-muted mb-3" style="line-height: 1.6;">
          Explora nuestra colección de muebles y accesorios para tu hogar.  
          Calidad, diseño y confort en un solo lugar. Descubre categorías, ofertas y novedades pensadas para ti.
        </p>
        <a href="{{ url_for('catalogo') }}" class="btn btn-success btn-sm px-4 py-2 shadow-sm">Ver Catálogo</a>
      </div>

    </div>
  </div>
</section>

<style>

  #bienvenida img:hover {
    transform: scale(1.05);
  }

  
  #bienvenida .btn-success {
    transition: all 0.3s ease;
  }
  #bienvenida .btn-success:hover {
    box-shadow: 0 5px 15px rgba(87, 167, 115, 0.4);
    transform: translateY(-2px);
  }
</style>

<!-- Botón flotante -->
<a href="{{ url_for('cliente.chat_cliente') }}" id="botonSoporte">
    <i class="fas fa-headset"></i>
    Soporte Técnico
</a>

<style>
#botonSoporte {
    position: fixed;
    bottom: 25px;
    right: 25px;
    background: #007bff;
    color: white;
    border-radius: 50px;
    padding: 12px 18px;
    font-weight: 600;
    font-family: 'Poppins', sans-serif;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    display: flex;
    align-items: center;
    gap: 10px;
    text-decoration: none;
    transition: background 0.3s, transform 0.2s;
    z-index: 9999;
}

#botonSoporte i {
    font-size: 1.2rem;
}

/* Hover y click */
#botonSoporte:hover {
    background: #0056b3;
    transform: scale(1.05);
}

#botonSoporte:active {
    transform: scale(0.95);
}
</style>




{% if mostrar_bienvenida %}
<style>
 
  body.modal-open::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    backdrop-filter: blur(5px); 
    z-index: 1040;
  }
</style>

<div class="modal fade" id="modalBienvenida" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-md"> <!-- tamaño mediano -->
    <div class="modal-content text-white position-relative overflow-hidden" style="background-color: #9bd1a5;">

      <canvas id="confettiCanvas" class="position-absolute top-0 start-0 w-100 h-100"></canvas>

      <div class="d-flex flex-column justify-content-center align-items-center text-center p-4 position-relative" style="z-index: 2;">
        <h1 id="bienvenidaTexto" class="display-4 fw-bold mb-3"></h1>
        <p class="fs-5 mb-4">¡Estamos felices de verte por aquí!</p>
        <button type="button" class="btn btn-light btn-lg fw-bold" data-bs-dismiss="modal">¡Continuar!</button>
      </div>
    </div>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const modalEl = document.getElementById('modalBienvenida');
  const modal = new bootstrap.Modal(modalEl);
  modal.show();

  // Confeti
  const canvas = document.getElementById('confettiCanvas');
  const myConfetti = confetti.create(canvas, { resize: true, useWorker: true });
  const confettiInterval = setInterval(() => {
    myConfetti({
      particleCount: 6,
      spread: 60,
      origin: { y: 0 },
      colors: ['#ffffff', '#ffe066', '#57a773', '#9bd1a5']
    });
  }, 250);

  modalEl.addEventListener('hidden.bs.modal', () => {
    clearInterval(confettiInterval);
  });

  // Efecto máquina de escribir
  const text = "¡Bienvenido, {{ nombre_completo }}!";
  const container = document.getElementById('bienvenidaTexto');
  let i = 0;
  function escribir() {
      if (i < text.length) {
          container.textContent += text.charAt(i);
          i++;
          setTimeout(escribir, 100);
      }
  }
  escribir();
});
</script>
{% endif %}



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/actualizacion.js') }}"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>

{% endblock %}


