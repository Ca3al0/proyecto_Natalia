
{% extends "common/base.html" %}

{% block navbar %}
  {% include "common/partials/navbar_admin.html" %}
{% endblock %}

{% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/flash.css') }}">

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }} flash-small d-flex align-items-center" role="alert">
        {% if category == 'success' %}
          <i class="bi bi-check-circle-fill me-2"></i>
        {% elif category == 'danger' %}
          <i class="bi bi-x-circle-fill me-2"></i>
        {% elif category == 'warning' %}
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
        {% elif category == 'info' %}
          <i class="bi bi-info-circle-fill me-2"></i>
        {% endif %}
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}


<style>
  :root {
    --verde: #57a773;
    --verde-oscuro: #157145;
    --celeste: #9bd1e5;
    --celeste-claro: #d1faff;
    --gris: #6a8eae;
    --blanco: #fff;
  }


  * { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', sans-serif; }

  body { background: var(--celeste-claro); overflow-x: hidden; }

.hero {
  height: 100vh;
  background: url("{{ url_for('static', filename='img/imagendashboard.jpg') }}") no-repeat center center;
  background-size: cover;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  position: relative;
  color: white;
}

  .hero::after {
    content:'';
    position:absolute;
    top:0; left:0; width:100%; height:100%;
    background: rgba(0,0,0,0.4);
  }

  .hero-content { position: relative; z-index:1; max-width:900px; }

  .hero h1 { font-size:4rem; margin-bottom:1rem; text-shadow:2px 2px 5px rgba(0,0,0,0.5); }
  .hero p { font-size:1.5rem; margin-bottom:2rem; text-shadow:1px 1px 3px rgba(0,0,0,0.5); }

  .hero-buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
  }

  .btn-section {
    padding:1rem 2rem;
    border:none;
    border-radius:50px;
    background: var(--verde);
    color: white;
    font-size:1.2rem;
    cursor:pointer;
    transition: 0.3s;
  }

  .btn-section:hover { background: var(--verde-oscuro); transform: scale(1.05); }

  /* Secciones tipo tarjeta gigante */
  .secciones {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    padding: 4rem 2rem;
    gap: 2rem;
  }

  .tarjeta {
    flex: 1 1 300px;
    height: 200px;
    background: white;
    border-radius: 25px;
    display:flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align:center;
    font-weight:bold;
    color: var(--verde-oscuro);
    font-size:1.5rem;
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    cursor:pointer;
    transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
  }

  .tarjeta:hover {
    transform: translateY(-10px) scale(1.05);
    box-shadow: 0 20px 30px rgba(0,0,0,0.3);
    background: var(--verde);
    color: white;
  }

  /* Galería interactiva */
  .galeria {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px,1fr));
    gap:2rem;
    padding:4rem 2rem;
  }

  .mueble {
    position: relative;
    border-radius:20px;
    overflow:hidden;
    cursor:pointer;
    transition: transform 0.3s;
  }

  .mueble img {
    width:100%;
    height:250px;
    object-fit:cover;
    transition: transform 0.3s;
  }

  .mueble:hover img { transform: scale(1.1); }

  .mueble .info {
    position:absolute;
    bottom:0;
    left:0;
    width:100%;
    background: rgba(0,0,0,0.6);
    color:white;
    padding:1rem;
    text-align:center;
    opacity:0;
    transition: opacity 0.3s;
  }

  .mueble:hover .info { opacity:1; }

  footer {
    background: var(--verde);
    color:white;
    text-align:center;
    padding:2rem 1rem;
  }

  /* Icono flotante de Chatbot */
  .chatbot {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background: var(--verde);
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    transition: transform 0.3s, background 0.3s;
    z-index: 1000;
  }

  .chatbot:hover { transform: scale(1.1); background: var(--verde-oscuro); }

  .chatbot img {
    width: 30px;
    height: 30px;
  }

  @media(max-width:768px){
    .hero h1 { font-size:2.5rem; }
    .hero p { font-size:1.2rem; }
    .tarjeta { font-size:1.2rem; height:180px; }
    .chatbot { width:50px; height:50px; }
    .chatbot img { width:25px; height:25px; }
  }
</style>


<link rel="stylesheet" href="{{ url_for('static', filename='css/flash.css') }}">


{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }} flash-small d-flex align-items-center mt-3" role="alert">
        {% if category == 'success' %}
          <i class="bi bi-check-circle-fill me-2"></i>
        {% elif category == 'danger' %}
          <i class="bi bi-x-circle-fill me-2"></i>
        {% elif category == 'warning' %}
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
        {% elif category == 'info' %}
          <i class="bi bi-info-circle-fill me-2"></i>
        {% endif %}
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}


<section class="hero">
  <div class="hero-content">
    <h1>Bienvenido a Muebles Creativos</h1>
    <p>Explora y transforma tu hogar de forma interactiva</p>
    <div class="hero-buttons">
      <button class="btn-section" onclick="document.getElementById('categorias').scrollIntoView({behavior:'smooth'})">CATEGORÍAS</button>
      <button class="btn-section" onclick="window.location.href='{{ url_for('admin.agregar_producto') }}'">CATÁLOGO</button>

      <button class="btn-section" onclick="document.getElementById('ofertas').scrollIntoView({behavior:'smooth'})">OFERTAS</button>
      <button class="btn-section" onclick="document.getElementById('garantias').scrollIntoView({behavior:'smooth'})">GARANTÍAS</button>
      <button class="btn-section" onclick="window.location.href='{{ url_for('cliente.agendar_instalacion') }}'">INSTALACIONES</button>

    </div>
  </div>
</section>



<!-- Carrusel de novedades -->
<div class="container py-5">
  <h1 class="mb-4"><b>NOVEDADES</b></h1>
  <div id="multiCardCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <div class="row">
          <div class="col-md-6 col-lg-4">
            <div class="card">
              <img src="{{ url_for('static', filename='img/salacarrusel.png') }}" class="card-img-top" alt="Sala moderna" />
            </div>
          </div>
          <div class="col-md-6 col-lg-4 d-none d-md-block">
            <div class="card">
              <img src="{{ url_for('static', filename='img/armariocarrusel.png') }}" class="card-img-top" alt="Armario moderno" />
            </div>
          </div>
          <div class="col-lg-4 d-none d-lg-block">
            <div class="card">
              <img src="{{ url_for('static', filename='img/bañocarrusel.png') }}" class="card-img-top" alt="Mueble para baño" />
            </div>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <div class="row">
          <div class="col-md-6 col-lg-4">
            <div class="card">
              <img src="{{ url_for('static', filename='img/cocinacarrusel.png') }}" class="card-img-top" alt="Cocina moderna" />
            </div>
          </div>
          <div class="col-md-6 col-lg-4 d-none d-md-block">
            <div class="card">
              <img src="{{ url_for('static', filename='img/espejocarrusel.png') }}" class="card-img-top" alt="Espejo decorativo" />
            </div>
          </div>
          <div class="col-lg-4 d-none d-lg-block">
            <div class="card">
              <img src="{{ url_for('static', filename='img/pinturacarrusel.png') }}" class="card-img-top" alt="Pintura decorativa" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#multiCardCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#multiCardCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>
</div>


<section id="bienvenida" class="py-5" style="background: #f0fdf4;">
  <div class="container">
    <div class="row align-items-center g-4">

 
      <div class="col-md-5 text-center text-md-start">
        <div class="shadow rounded overflow-hidden">
          <img src="{{ url_for('static', filename='img/espejo.png') }}" 
               class="img-fluid" alt="Casa en el Árbol" style="transition: transform 0.3s ease;">
        </div>
      </div>

     
      <div class="col-md-7">
        <h2 class="h4 fw-bold text-success mb-2">Bienvenido a Casa en el Árbol</h2>
        <p class="text-muted mb-3" style="line-height: 1.6;">
          Explora nuestra colección de muebles y accesorios para tu hogar.  
          Calidad, diseño y confort en un solo lugar. Descubre categorías, ofertas y novedades pensadas para ti.
        </p>
        <a href="{{ url_for('catalogo') }}" class="btn btn-success btn-sm px-4 py-2 shadow-sm">Ver Catálogo</a>
      </div>

    </div>
  </div>
</section>

<!-- Botón flotante -->
<button id="chatbotButton" title="Chat con soporte">
  <i class="bi bi-chat-dots-fill"></i>
</button>

<!-- Ventana de chat -->
<div id="chatbotModal" class="chat-modal">
  <div class="chat-header">
    <span>Chat con soporte</span>
    <button id="closeChat">&times;</button>
  </div>
  <div class="chat-body" id="chatBody">
    <!-- Mensajes aparecerán aquí -->
  </div>
  <div class="chat-footer">
    <input type="text" id="chatInput" placeholder="Escribe un mensaje...">
    <button id="sendChat">Enviar</button>
  </div>
</div>

<!-- Estilos CSS -->
<style>
#chatbotButton {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color: #57a773;
  color: white;
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  font-size: 24px;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  z-index: 1000;
}

#chatbotModal {
  display: none;
  position: fixed;
  bottom: 90px;
  right: 20px;
  width: 320px;
  max-height: 400px;
  background-color: white;
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.3);
  z-index: 1000;
  display: flex;
  flex-direction: column;
}

.chat-header {
  background-color: #57a773;
  color: white;
  padding: 10px;
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.chat-body {
  padding: 10px;
  flex: 1;
  overflow-y: auto;
  background-color: #f8f8f8;
}

.chat-footer {
  display: flex;
  border-top: 1px solid #ddd;
}

#chatInput {
  flex: 1;
  padding: 8px;
  border: none;
  border-radius: 0 0 0 12px;
}

#sendChat {
  padding: 8px 12px;
  background-color: #57a773;
  color: white;
  border: none;
  cursor: pointer;
  border-radius: 0 0 12px 0;
}
</style>


<script>
const chatbotButton = document.getElementById('chatbotButton');
const chatbotModal = document.getElementById('chatbotModal');
const closeChat = document.getElementById('closeChat');

chatbotButton.addEventListener('click', () => {
  chatbotModal.style.display = 'flex';
});

closeChat.addEventListener('click', () => {
  chatbotModal.style.display = 'none';
});
</script>




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/actualizacion.js') }}"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %}
